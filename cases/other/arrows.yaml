diagram:
  label: Connection Arrow Test
  padding_top: 24

styles:

  default_block:
    margin_top: 8
    margin_bottom: 8

  text_block:
    stroke_width: 1
    stroke_dasharray: [4, 2]
    margin_bottom: 24
    min_height: 16

  default_connection:
    stroke_width: 3
    arrow_base: 8
    arrow_aspect: 3

  back:
    arrow_back: true

  over:
    stroke: [1, 0, 0]

rows:
  - [Z, Z, Y, Y, Y, Y, Y, Y]
  - [A, B, E, G, I, ~, M, ~]
  - [D, C, F, H, J, K, ~, L]
  - [~, ~, ~, ~, ~, ~, N, ~]

blocks:

  - name: Z
    style: text_block
    label: |-
      Connection line must expand if the arrow does not fit.

  - name: Y
    style: text_block
    label: |-
      Arrows must not overlap with other arrows or connection lines.

  - name: L
    margin_left: 0

connections:

  - start: A
    end: B
    style: back

  - start: B
    end: C
    style: back

  - start: C
    end: D
    style: back

  - start: D
    end: A
    style: back

  - start: E
    end: F

  - start: E
    end: F
    style: over

  - start: G
    end: H

  - start: H
    end: G
    style: over

  - start: I
    end: J
    arrow_forward: false

  - start: I
    end: J
    style: over

  - start: K
    end: L

  - start: M
    end: N
    style: over
